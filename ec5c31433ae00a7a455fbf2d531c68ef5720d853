{
  "comments": [
    {
      "key": {
        "uuid": "da33351e_447589f8",
        "filename": "yardstick/network_services/vnf_generic/vnf/tg_trex.py",
        "patchSetId": 1
      },
      "lineNbr": 117,
      "author": {
        "id": 6831
      },
      "writtenOn": "2017-10-02T17:52:14Z",
      "side": 1,
      "message": "if all we want is the length, then why are we building a list of indexes?\n\nthis should be:\n\n ports_mask_hex \u003d hex(2 ** (len(self.vnfd_helper.interfaces) + 1) - 1)[2:]\n\ngiven that a hex mask is appropriate.",
      "range": {
        "startLine": 117,
        "startChar": 39,
        "endLine": 117,
        "endChar": 48
      },
      "revId": "ec5c31433ae00a7a455fbf2d531c68ef5720d853",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "da33351e_64cecd2f",
        "filename": "yardstick/network_services/vnf_generic/vnf/tg_trex.py",
        "patchSetId": 1
      },
      "lineNbr": 117,
      "author": {
        "id": 1402
      },
      "writtenOn": "2017-10-02T17:58:59Z",
      "side": 1,
      "message": "I don\u0027t think we want a hex.  I think this is just len(all_ports) or maybe if they really want hex  hex(len(all_ports)[2:]\n\nI can\u0027t find the docs to -c.",
      "parentUuid": "da33351e_447589f8",
      "range": {
        "startLine": 117,
        "startChar": 39,
        "endLine": 117,
        "endChar": 48
      },
      "revId": "ec5c31433ae00a7a455fbf2d531c68ef5720d853",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "da33351e_9b1eda0a",
        "filename": "yardstick/network_services/vnf_generic/vnf/tg_trex.py",
        "patchSetId": 1
      },
      "lineNbr": 119,
      "author": {
        "id": 1402
      },
      "writtenOn": "2017-09-29T08:46:05Z",
      "side": 1,
      "message": "I can\u0027t find -i in the docs, what does it do?\n\nhttps://trex-tgn.cisco.com/trex/doc/trex_manual.html#cml-line\n\nAre you sure -c is a mask.\n\nThe docs seems to suggest it is just the number of threads\n\n -c \u003cnum\u003e\n\n    Number of hardware threads to use per interface pair. Use at least 4 for TRex 40Gbs.\n    TRex uses 2 threads for inner needs. Rest of the threads can be used. Maximum number here, can be number of free threads divided by number of interface pairs.\n    For virtual NICs on VM, we always use one thread per interface pair.",
      "revId": "ec5c31433ae00a7a455fbf2d531c68ef5720d853",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "da33351e_7ec14353",
        "filename": "yardstick/network_services/vnf_generic/vnf/tg_trex.py",
        "patchSetId": 1
      },
      "lineNbr": 119,
      "author": {
        "id": 6831
      },
      "writtenOn": "2017-09-29T17:34:08Z",
      "side": 1,
      "message": "i don\u0027t know about -i, but the flag has been included since Jun-20 and the big NSB update.  it seems it is ignored.\n\ni also don\u0027t see --no-scapy-server in the linked document.\n\nfor -c there\u0027s -lm\n\n --lm \u003chex bit mask\u003e\n   Mask specifying which ports will send traffic. For \n   example, 0x1 - Only port 0 will send. 0x4 - only port \n   2 will send. This can be used to verify port \n   connectivity. You can send packets from one port, and\n   look at counters on the DUT.",
      "parentUuid": "da33351e_9b1eda0a",
      "revId": "ec5c31433ae00a7a455fbf2d531c68ef5720d853",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "da33351e_5ec27f34",
        "filename": "yardstick/network_services/vnf_generic/vnf/tg_trex.py",
        "patchSetId": 1
      },
      "lineNbr": 119,
      "author": {
        "id": 6507
      },
      "writtenOn": "2017-09-29T18:14:34Z",
      "side": 1,
      "message": "-i means interactive.. Nope we have to use \"-c\" to give how many threads needs to be used by the trex.",
      "parentUuid": "da33351e_7ec14353",
      "revId": "ec5c31433ae00a7a455fbf2d531c68ef5720d853",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "da33351e_9edfe70c",
        "filename": "yardstick/network_services/vnf_generic/vnf/tg_trex.py",
        "patchSetId": 1
      },
      "lineNbr": 119,
      "author": {
        "id": 6507
      },
      "writtenOn": "2017-09-29T18:14:34Z",
      "side": 1,
      "message": "Yes, -c is used for create more threads to send traffic. we will give +1 to handle latency in separate thread.\n\nI am not seeing any error if i send the mask. So should work :)",
      "parentUuid": "da33351e_9b1eda0a",
      "revId": "ec5c31433ae00a7a455fbf2d531c68ef5720d853",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "da33351e_8a84bd5e",
        "filename": "yardstick/network_services/vnf_generic/vnf/tg_trex.py",
        "patchSetId": 1
      },
      "lineNbr": 119,
      "author": {
        "id": 1402
      },
      "writtenOn": "2017-10-01T20:39:32Z",
      "side": 1,
      "message": "so it is not a bitmask, it is just number of threads?  why are we converting to hex then?",
      "parentUuid": "da33351e_9edfe70c",
      "revId": "ec5c31433ae00a7a455fbf2d531c68ef5720d853",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "da33351e_8762f33b",
        "filename": "yardstick/network_services/vnf_generic/vnf/tg_trex.py",
        "patchSetId": 1
      },
      "lineNbr": 119,
      "author": {
        "id": 1402
      },
      "writtenOn": "2017-10-02T22:58:20Z",
      "side": 1,
      "message": "https://github.com/cisco-system-traffic-generator/trex-core/blob/master/scripts/dpdk_setup_ports.py#L1067\n\n\nhttps://github.com/cisco-system-traffic-generator/trex-core/blob/master/src/main_dpdk.cpp#L1285\n\n-c uses atoi() to convert string to int.\n\natoi does not use hex",
      "parentUuid": "da33351e_8a84bd5e",
      "revId": "ec5c31433ae00a7a455fbf2d531c68ef5720d853",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "da33351e_baa3cefe",
        "filename": "yardstick/network_services/vnf_generic/vnf/tg_trex.py",
        "patchSetId": 1
      },
      "lineNbr": 119,
      "author": {
        "id": 1402
      },
      "writtenOn": "2017-10-03T02:04:25Z",
      "side": 1,
      "message": "-c fails with virtio\n\n Starting  TRex v2.28 please wait  ...\n  set driver name net_virtio\n  driver capability  : TSO\n zmq publisher at: tcp://*:4500\n  Number of ports found: 2\n Error: the number of cores should be 1 when the driver  support only one tx queue and one rx queue. Please use -c 1",
      "parentUuid": "da33351e_8762f33b",
      "revId": "ec5c31433ae00a7a455fbf2d531c68ef5720d853",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "da33351e_da94d28c",
        "filename": "yardstick/network_services/vnf_generic/vnf/tg_trex.py",
        "patchSetId": 1
      },
      "lineNbr": 119,
      "author": {
        "id": 1402
      },
      "writtenOn": "2017-10-03T03:08:47Z",
      "side": 1,
      "message": "how do we detect number of queues on the device?",
      "parentUuid": "da33351e_baa3cefe",
      "revId": "ec5c31433ae00a7a455fbf2d531c68ef5720d853",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    }
  ]
}