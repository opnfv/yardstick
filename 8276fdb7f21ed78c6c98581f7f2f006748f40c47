{
  "comments": [
    {
      "key": {
        "uuid": "9a3d3df0_04addd31",
        "filename": "yardstick/network_services/vnf_generic/vnf/prox_vnf.py",
        "patchSetId": 1
      },
      "lineNbr": 92,
      "author": {
        "id": 304
      },
      "writtenOn": "2017-10-18T16:21:27Z",
      "side": 1,
      "message": "also should pkts_in not be rx total? and pkts_out mapped tx_total?",
      "range": {
        "startLine": 92,
        "startChar": 26,
        "endLine": 92,
        "endChar": 34
      },
      "revId": "8276fdb7f21ed78c6c98581f7f2f006748f40c47",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9a3d3df0_1f4b642c",
        "filename": "yardstick/network_services/vnf_generic/vnf/prox_vnf.py",
        "patchSetId": 1
      },
      "lineNbr": 92,
      "author": {
        "id": 6719
      },
      "writtenOn": "2017-10-18T17:27:11Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9a3d3df0_04addd31",
      "range": {
        "startLine": 92,
        "startChar": 26,
        "endLine": 92,
        "endChar": 34
      },
      "revId": "8276fdb7f21ed78c6c98581f7f2f006748f40c47",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9a3d3df0_849a8d12",
        "filename": "yardstick/network_services/vnf_generic/vnf/prox_vnf.py",
        "patchSetId": 1
      },
      "lineNbr": 93,
      "author": {
        "id": 304
      },
      "writtenOn": "2017-10-18T16:19:48Z",
      "side": 1,
      "message": "I still have issue with the calculation of dropped packets here... it\u0027s a misrepresentation. If you can\u0027t retrieve the dropped packets then that should be relayed as that. not try to compensate with a calculation that isn\u0027t a fair representation of packets dropped.\n\nI believe from the documentation you should be able to get the real dropped packet stats from the DPDK stats/xstats APIs:\nhttps://01.org/intel-data-plane-performance-demonstrators/documentation/prox-documentation\n\nYou should try to get the real dropped counters from the relevant ports and add them up.",
      "range": {
        "startLine": 93,
        "startChar": 11,
        "endLine": 93,
        "endChar": 51
      },
      "revId": "8276fdb7f21ed78c6c98581f7f2f006748f40c47",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9a3d3df0_3fbbc80f",
        "filename": "yardstick/network_services/vnf_generic/vnf/prox_vnf.py",
        "patchSetId": 1
      },
      "lineNbr": 93,
      "author": {
        "id": 6719
      },
      "writtenOn": "2017-10-18T17:27:11Z",
      "side": 1,
      "message": "The dropped packets calculation is done based on port_stats which is a list of 12 elements.\nFrom the doc: https://01.org/intel-data-plane-performance-demonstrators/documentation/prox-documentation\n\nport_stats \u003cport id\u003e\t\nPrint rate for no_mbufs, ierrors, rx_bytes, tx_bytes, rx_pkts, tx_pkts and totals for RX, TX, no_mbufs ierrors for port \u003cport id\u003e\n\nThat gives:\nTotal RX \u003d port_stats[6]\nTotal TX \u003d port_stats[7]\nThis is how the implementation was done in DATS.\nFor more details refer any test case in ~/dats/tests/: https://01.org/sites/default/files/downloads/intelr-data-plane-performance-demonstrators/dppd-dats-v037.tar.gz",
      "parentUuid": "9a3d3df0_849a8d12",
      "range": {
        "startLine": 93,
        "startChar": 11,
        "endLine": 93,
        "endChar": 51
      },
      "revId": "8276fdb7f21ed78c6c98581f7f2f006748f40c47",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9a3d3df0_efffedff",
        "filename": "yardstick/network_services/vnf_generic/vnf/prox_vnf.py",
        "patchSetId": 1
      },
      "lineNbr": 93,
      "author": {
        "id": 304
      },
      "writtenOn": "2017-10-19T09:31:35Z",
      "side": 1,
      "message": "you need to dig into the real code. looking at documentation is not enough. + the real register that needs to be used is not being used. at worsed ierrors, at best the total_queue_errors... but you should not take it upon yourself to calculate dropped packets that have an accurate representation from a NIC",
      "parentUuid": "9a3d3df0_3fbbc80f",
      "range": {
        "startLine": 93,
        "startChar": 11,
        "endLine": 93,
        "endChar": 51
      },
      "revId": "8276fdb7f21ed78c6c98581f7f2f006748f40c47",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    }
  ]
}