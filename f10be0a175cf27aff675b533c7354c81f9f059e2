{
  "comments": [
    {
      "key": {
        "uuid": "9a561d44_a314f8f5",
        "filename": "yardstick/network_services/vnf_generic/vnf/prox_helpers.py",
        "patchSetId": 13
      },
      "lineNbr": 548,
      "author": {
        "id": 7067
      },
      "writtenOn": "2018-08-03T16:05:54Z",
      "side": 1,
      "message": "To be deleted",
      "range": {
        "startLine": 548,
        "startChar": 45,
        "endLine": 548,
        "endChar": 49
      },
      "revId": "f10be0a175cf27aff675b533c7354c81f9f059e2",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9a561d44_e3f550cc",
        "filename": "yardstick/network_services/vnf_generic/vnf/prox_helpers.py",
        "patchSetId": 13
      },
      "lineNbr": 556,
      "author": {
        "id": 7067
      },
      "writtenOn": "2018-08-03T16:05:54Z",
      "side": 1,
      "message": "I still believe there should be no need to retry at this level, although I have seen the examples you provided at https://gerrit.opnfv.org/gerrit/#/c/58261/21/yardstick/network_services/vnf_generic/vnf/prox_helpers.py@548\nClearly, the get_data() and _parse_socket_data() methods should be reworked to properly read from the socket until the EOL delimiter has been received.\nAlso, PROX could be enhanced to return an empty line or an error line, instead of nothing at all, in case of errors. This would eliminate the need for timeout handling, because all commands would get an answer, so we would have to wait for it until EOL. But this change might require all PROX clients to be reworked, unless a different PROX socket port, or an additional PROX command-line switch, is used by NSB to enable this new \"always an answer\" protocol.\nIn the meantime, a higher default timeout on line 328 might help with slightly delayed answers from PROX and/or long answer lines.\nAnyway, retrying at this level should ultimately be avoidable and avoided.",
      "revId": "f10be0a175cf27aff675b533c7354c81f9f059e2",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9a561d44_deabbfd4",
        "filename": "yardstick/network_services/vnf_generic/vnf/prox_helpers.py",
        "patchSetId": 13
      },
      "lineNbr": 587,
      "author": {
        "id": 7067
      },
      "writtenOn": "2018-08-03T16:05:54Z",
      "side": 1,
      "message": "So if attempt #9 finally manages to build a correct tot_result, this test will discard it. The appropriate test should read:\nif len(ports) is not len(ports_all_data)",
      "revId": "f10be0a175cf27aff675b533c7354c81f9f059e2",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9a561d44_3ee75b42",
        "filename": "yardstick/tests/unit/network_services/vnf_generic/vnf/test_prox_helpers.py",
        "patchSetId": 13
      },
      "lineNbr": 586,
      "author": {
        "id": 7067
      },
      "writtenOn": "2018-08-03T16:05:54Z",
      "side": 1,
      "message": "These expected values for port 2 are wrong. It does not trigger an error, because \"expected\" is only used for its length on line 591. You might want instead to define \"expected\" below line 589 as follows:\nexpected \u003d [sample1, sample2, sample3]",
      "revId": "f10be0a175cf27aff675b533c7354c81f9f059e2",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9a561d44_7ed0b353",
        "filename": "yardstick/tests/unit/network_services/vnf_generic/vnf/test_prox_helpers.py",
        "patchSetId": 13
      },
      "lineNbr": 599,
      "author": {
        "id": 7067
      },
      "writtenOn": "2018-08-03T16:05:54Z",
      "side": 1,
      "message": "ditto for port 1 here",
      "revId": "f10be0a175cf27aff675b533c7354c81f9f059e2",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9a561d44_1ee4173a",
        "filename": "yardstick/tests/unit/network_services/vnf_generic/vnf/test_prox_helpers.py",
        "patchSetId": 13
      },
      "lineNbr": 600,
      "author": {
        "id": 7067
      },
      "writtenOn": "2018-08-03T16:05:54Z",
      "side": 1,
      "message": "ditto for port 6 (not 2) here",
      "revId": "f10be0a175cf27aff675b533c7354c81f9f059e2",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9a561d44_5269638a",
        "filename": "yardstick/tests/unit/network_services/vnf_generic/vnf/test_prox_helpers.py",
        "patchSetId": 13
      },
      "lineNbr": 1681,
      "author": {
        "id": 7067
      },
      "writtenOn": "2018-08-03T16:05:54Z",
      "side": 1,
      "message": "That\u0027s where I would have liked to see the previous unit test values restored: [(\u0027xe1\u0027, 3), (\u0027xe2\u0027, 7)]\nThey were sadly removed by https://gerrit.opnfv.org/gerrit/#/c/58261/21/yardstick/tests/unit/network_services/vnf_generic/vnf/test_prox_helpers.py@1587",
      "revId": "f10be0a175cf27aff675b533c7354c81f9f059e2",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9a561d44_b2055fc4",
        "filename": "yardstick/tests/unit/network_services/vnf_generic/vnf/test_prox_helpers.py",
        "patchSetId": 13
      },
      "lineNbr": 1684,
      "author": {
        "id": 7067
      },
      "writtenOn": "2018-08-03T16:05:54Z",
      "side": 1,
      "message": "with this line adjusted of course for port ids",
      "revId": "f10be0a175cf27aff675b533c7354c81f9f059e2",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9a561d44_920adbd0",
        "filename": "yardstick/tests/unit/network_services/vnf_generic/vnf/test_prox_helpers.py",
        "patchSetId": 13
      },
      "lineNbr": 1689,
      "author": {
        "id": 7067
      },
      "writtenOn": "2018-08-03T16:05:54Z",
      "side": 1,
      "message": "and \"expected\" adjusted for port names",
      "revId": "f10be0a175cf27aff675b533c7354c81f9f059e2",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9a561d44_72c8e774",
        "filename": "yardstick/tests/unit/network_services/vnf_generic/vnf/test_prox_helpers.py",
        "patchSetId": 13
      },
      "lineNbr": 1709,
      "author": {
        "id": 7067
      },
      "writtenOn": "2018-08-03T16:05:54Z",
      "side": 1,
      "message": "These two lines seem plain useless, because _totals_and_pps is hardcoded on line 1713, so there will be no attempt to call port_stats() or multi_port_stats().\nAnd the return value for multi_port_stats() looks wrong anyway.",
      "range": {
        "startLine": 1708,
        "startChar": 0,
        "endLine": 1709,
        "endChar": 67
      },
      "revId": "f10be0a175cf27aff675b533c7354c81f9f059e2",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9a561d44_5273234d",
        "filename": "yardstick/tests/unit/network_services/vnf_generic/vnf/test_prox_helpers.py",
        "patchSetId": 13
      },
      "lineNbr": 2065,
      "author": {
        "id": 7067
      },
      "writtenOn": "2018-08-03T16:05:54Z",
      "side": 1,
      "message": "I fail to understand where these 3 lines are useful. Entering the traffic context only attempts to start/stop the cores, set packet size and speed, but no port statistics seem to be collected.",
      "range": {
        "startLine": 2063,
        "startChar": 0,
        "endLine": 2065,
        "endChar": 75
      },
      "revId": "f10be0a175cf27aff675b533c7354c81f9f059e2",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9a561d44_92e2dbd3",
        "filename": "yardstick/tests/unit/network_services/vnf_generic/vnf/test_prox_helpers.py",
        "patchSetId": 13
      },
      "lineNbr": 2080,
      "author": {
        "id": 7067
      },
      "writtenOn": "2018-08-03T16:05:54Z",
      "side": 1,
      "message": "This line is likely useless now.",
      "revId": "f10be0a175cf27aff675b533c7354c81f9f059e2",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9a561d44_7220e7f7",
        "filename": "yardstick/tests/unit/network_services/vnf_generic/vnf/test_prox_helpers.py",
        "patchSetId": 13
      },
      "lineNbr": 2086,
      "author": {
        "id": 7067
      },
      "writtenOn": "2018-08-03T16:05:54Z",
      "side": 1,
      "message": "Wrong number of arguments. Does not trigger an error, because default values are provided, so tolerated_loss is set to constants.NIC_GBPS_DEFAULT * constants.ONE_GIGABIT_IN_BITS, which is wrong!",
      "revId": "f10be0a175cf27aff675b533c7354c81f9f059e2",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9a561d44_927e5be3",
        "filename": "yardstick/tests/unit/network_services/vnf_generic/vnf/test_prox_helpers.py",
        "patchSetId": 13
      },
      "lineNbr": 2229,
      "author": {
        "id": 7067
      },
      "writtenOn": "2018-08-03T16:05:54Z",
      "side": 1,
      "message": "Likely useless line.",
      "revId": "f10be0a175cf27aff675b533c7354c81f9f059e2",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9a561d44_5274c3fc",
        "filename": "yardstick/tests/unit/network_services/vnf_generic/vnf/test_prox_helpers.py",
        "patchSetId": 13
      },
      "lineNbr": 2235,
      "author": {
        "id": 7067
      },
      "writtenOn": "2018-08-03T16:05:54Z",
      "side": 1,
      "message": "Wrong number of arguments.",
      "revId": "f10be0a175cf27aff675b533c7354c81f9f059e2",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9a561d44_9265bb47",
        "filename": "yardstick/tests/unit/network_services/vnf_generic/vnf/test_prox_helpers.py",
        "patchSetId": 13
      },
      "lineNbr": 2239,
      "author": {
        "id": 7067
      },
      "writtenOn": "2018-08-03T16:05:54Z",
      "side": 1,
      "message": "Wrong number of arguments.",
      "revId": "f10be0a175cf27aff675b533c7354c81f9f059e2",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9a561d44_d288d3e9",
        "filename": "yardstick/tests/unit/network_services/vnf_generic/vnf/test_prox_helpers.py",
        "patchSetId": 13
      },
      "lineNbr": 2349,
      "author": {
        "id": 7067
      },
      "writtenOn": "2018-08-03T16:05:54Z",
      "side": 1,
      "message": "Likely useless line.",
      "revId": "f10be0a175cf27aff675b533c7354c81f9f059e2",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9a561d44_326dcf33",
        "filename": "yardstick/tests/unit/network_services/vnf_generic/vnf/test_prox_helpers.py",
        "patchSetId": 13
      },
      "lineNbr": 2465,
      "author": {
        "id": 7067
      },
      "writtenOn": "2018-08-03T16:05:54Z",
      "side": 1,
      "message": "Likely useless line.",
      "revId": "f10be0a175cf27aff675b533c7354c81f9f059e2",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9a561d44_f29fd701",
        "filename": "yardstick/tests/unit/network_services/vnf_generic/vnf/test_prox_vnf.py",
        "patchSetId": 13
      },
      "lineNbr": 373,
      "author": {
        "id": 7067
      },
      "writtenOn": "2018-08-03T16:05:54Z",
      "side": 1,
      "message": "Please set prox_approx_vnf.tsc_hz below line 359 to some high value, so that you can compare curr_packets_in and curr_packets_fwd to non-zero values.\nExample for tsc_hz \u003d 1000, expected values are curr_packets_in \u003d 400 and curr_packets_fwd \u003d 800.",
      "range": {
        "startLine": 372,
        "startChar": 0,
        "endLine": 373,
        "endChar": 55
      },
      "revId": "f10be0a175cf27aff675b533c7354c81f9f059e2",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9a561d44_d2d613c5",
        "filename": "yardstick/tests/unit/network_services/vnf_generic/vnf/test_prox_vnf.py",
        "patchSetId": 13
      },
      "lineNbr": 400,
      "author": {
        "id": 7067
      },
      "writtenOn": "2018-08-03T16:05:54Z",
      "side": 1,
      "message": "These lines should be deleted. This unit test is configured with 2 ports, not 4. See lines 78-117.",
      "range": {
        "startLine": 375,
        "startChar": 0,
        "endLine": 400,
        "endChar": 0
      },
      "revId": "f10be0a175cf27aff675b533c7354c81f9f059e2",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    }
  ]
}