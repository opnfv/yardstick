{
  "comments": [
    {
      "key": {
        "uuid": "9a3d3df0_53e10999",
        "filename": "yardstick/benchmark/scenarios/compute/spec_cpu.py",
        "patchSetId": 3
      },
      "lineNbr": 146,
      "author": {
        "id": 7075
      },
      "writtenOn": "2017-12-13T14:03:53Z",
      "side": 1,
      "message": "Instead of using \"cat\" to check if a file exists, I would recommend to implement this function in SSH:\n\n\n    def file_exists(self, file_name):\n        \"\"\"Check if a file exists in a host\"\"\"\n        client \u003d self._get_client()\n\n        with client.open_sftp() as sftp:\n            try:\n                sftp.stat(file_name)\n                return True\n            except IOError:\n                return False\n\n\n\nAnd an example of tests: https://gerrit.opnfv.org/gerrit/#/c/47845/1/tests/functional/test_ssh.py",
      "revId": "7478dbc29213f7fa34c76b69dcbddf7b2a80fecb",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9a3d3df0_d5869cda",
        "filename": "yardstick/benchmark/scenarios/compute/spec_cpu.py",
        "patchSetId": 3
      },
      "lineNbr": 146,
      "author": {
        "id": 331
      },
      "writtenOn": "2017-12-14T09:13:06Z",
      "side": 1,
      "message": "Thanks for your advise.\nThe purpose I use \"cat\" is to get the file content so the result can be fetched in \"run\" function, not to check if the file exists. Do you have suggestion about how to fetch the file content via ssh properly?",
      "parentUuid": "9a3d3df0_53e10999",
      "revId": "7478dbc29213f7fa34c76b69dcbddf7b2a80fecb",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9a3d3df0_58d641f2",
        "filename": "yardstick/benchmark/scenarios/compute/spec_cpu.py",
        "patchSetId": 3
      },
      "lineNbr": 146,
      "author": {
        "id": 7075
      },
      "writtenOn": "2017-12-14T14:33:17Z",
      "side": 1,
      "message": "I see now L152 sorry.\n\nIMO, to retrieve a remote file by using cat maybe is not the best method. If you want, you can use the function I gave you (to check if the file exists) and retrieve the file like in [1]. I you check if the file exists, you won\u0027t receive any exception.\n\nBecause in L150 you really need to raise the exception, what you can do directly is to use the method in [1] directly. This method will pass any exception. Furthermore, the file is in the user home folder so you won\u0027t have any problem to retrieve it.\n\nAnyway, if you want to keep \"cat\" is ok for me.\n\n[1] https://github.com/opnfv/yardstick/blob/master/yardstick/network_services/vnf_generic/vnf/prox_helpers.py#L1097-L1099",
      "parentUuid": "9a3d3df0_d5869cda",
      "revId": "7478dbc29213f7fa34c76b69dcbddf7b2a80fecb",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    }
  ]
}