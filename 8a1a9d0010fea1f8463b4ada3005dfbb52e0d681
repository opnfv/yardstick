{
  "comments": [
    {
      "key": {
        "uuid": "5a682502_1fe9af80",
        "filename": "/COMMIT_MSG",
        "patchSetId": 5
      },
      "lineNbr": 7,
      "author": {
        "id": 7067
      },
      "writtenOn": "2018-09-27T12:52:39Z",
      "side": 1,
      "message": "With current changes in ansible/group_vars/all.yml, this MUST be changed to:\nWARNING: Modify install.yaml to use Ubuntu 18.04 as default\nor similar explicit wording.",
      "revId": "8a1a9d0010fea1f8463b4ada3005dfbb52e0d681",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a682502_c2b637dc",
        "filename": "/COMMIT_MSG",
        "patchSetId": 5
      },
      "lineNbr": 7,
      "author": {
        "id": 7145
      },
      "writtenOn": "2018-10-03T14:12:39Z",
      "side": 1,
      "message": "Updated with default version 16.04. So no Warning needed.",
      "parentUuid": "5a682502_1fe9af80",
      "revId": "8a1a9d0010fea1f8463b4ada3005dfbb52e0d681",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a682502_ffedd38c",
        "filename": "ansible/roles/configure_gui/tasks/main.yml",
        "patchSetId": 5
      },
      "lineNbr": 30,
      "author": {
        "id": 7067
      },
      "writtenOn": "2018-09-27T12:52:39Z",
      "side": 1,
      "message": "Confusing at first glance vs. L24\nWhat is actually removed is /etc/nginx/yardstick/gui/dist",
      "range": {
        "startLine": 30,
        "startChar": 15,
        "endLine": 30,
        "endChar": 30
      },
      "revId": "8a1a9d0010fea1f8463b4ada3005dfbb52e0d681",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a682502_934bf8af",
        "filename": "ansible/roles/configure_gui/tasks/main.yml",
        "patchSetId": 5
      },
      "lineNbr": 30,
      "author": {
        "id": 2311
      },
      "writtenOn": "2018-10-02T10:51:24Z",
      "side": 1,
      "message": "I agree, at first glance I thought it was removing nginx and yardstick directories.\n\nI suggest adding the full path to be removed.",
      "parentUuid": "5a682502_ffedd38c",
      "range": {
        "startLine": 30,
        "startChar": 15,
        "endLine": 30,
        "endChar": 30
      },
      "revId": "8a1a9d0010fea1f8463b4ada3005dfbb52e0d681",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a682502_e2ec13ca",
        "filename": "ansible/roles/configure_gui/tasks/main.yml",
        "patchSetId": 5
      },
      "lineNbr": 30,
      "author": {
        "id": 7145
      },
      "writtenOn": "2018-10-03T14:12:39Z",
      "side": 1,
      "message": "Added to keep ansible script idempotent. Path updated.",
      "parentUuid": "5a682502_934bf8af",
      "range": {
        "startLine": 30,
        "startChar": 15,
        "endLine": 30,
        "endChar": 30
      },
      "revId": "8a1a9d0010fea1f8463b4ada3005dfbb52e0d681",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a682502_5f02073f",
        "filename": "ansible/roles/download_drivers/defaults/main.yml",
        "patchSetId": 5
      },
      "lineNbr": 15,
      "author": {
        "id": 7067
      },
      "writtenOn": "2018-09-27T12:52:39Z",
      "side": 1,
      "message": "Shouldn\u0027t this change of driver version be documented in release notes?",
      "revId": "8a1a9d0010fea1f8463b4ada3005dfbb52e0d681",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a682502_f3c7cc10",
        "filename": "ansible/roles/download_drivers/defaults/main.yml",
        "patchSetId": 5
      },
      "lineNbr": 15,
      "author": {
        "id": 2311
      },
      "writtenOn": "2018-10-02T10:51:24Z",
      "side": 1,
      "message": "This change is separate from updating the OS version.\nIt will change the version used for xenial as well as adding support for the version used in bionic.",
      "parentUuid": "5a682502_5f02073f",
      "revId": "8a1a9d0010fea1f8463b4ada3005dfbb52e0d681",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a682502_a2097b97",
        "filename": "ansible/roles/download_drivers/defaults/main.yml",
        "patchSetId": 5
      },
      "lineNbr": 15,
      "author": {
        "id": 7145
      },
      "writtenOn": "2018-10-03T14:12:39Z",
      "side": 1,
      "message": "Without this change Ubuntu 18.04 will not work.\nI can add dependency on which i40e driver version to use.\nBut i think it\u0027s better to use latest driver version. Isn\u0027t it? \nDo you think driver version will affect performance?",
      "parentUuid": "5a682502_f3c7cc10",
      "revId": "8a1a9d0010fea1f8463b4ada3005dfbb52e0d681",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a682502_11debb3f",
        "filename": "ansible/roles/download_drivers/defaults/main.yml",
        "patchSetId": 5
      },
      "lineNbr": 15,
      "author": {
        "id": 7067
      },
      "writtenOn": "2018-10-07T00:39:51Z",
      "side": 1,
      "message": "Did you test 3.5.13 driver with Ubuntu 16.04?\nYou can\u0027t push 3.5.13 to 16.04 users without validating.\nIf you didn\u0027t test and don\u0027t plan to, then create a mapping:\nxenial: 3.4.2\nbionic: 3.5.13\n\nSee also https://gerrit.opnfv.org/gerrit/#/c/61985/2/ansible/roles/download_drivers/defaults/main.yml@15",
      "parentUuid": "5a682502_a2097b97",
      "revId": "8a1a9d0010fea1f8463b4ada3005dfbb52e0d681",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a682502_ffbb1370",
        "filename": "ansible/roles/download_samplevnfs/defaults/main.yml",
        "patchSetId": 5
      },
      "lineNbr": 5,
      "author": {
        "id": 7067
      },
      "writtenOn": "2018-09-27T12:52:39Z",
      "side": 1,
      "message": "Good that you rebased PS6 on top of ee5d6413dbcbab40234e47ed3e74b85b704d6493",
      "revId": "8a1a9d0010fea1f8463b4ada3005dfbb52e0d681",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a682502_d3cc5038",
        "filename": "ansible/roles/download_samplevnfs/defaults/main.yml",
        "patchSetId": 5
      },
      "lineNbr": 5,
      "author": {
        "id": 2311
      },
      "writtenOn": "2018-10-02T10:51:24Z",
      "side": 1,
      "message": "This can be updated when this change is backported to stable/gambia, but the comment will need to be removed for the master version too.",
      "parentUuid": "5a682502_ffbb1370",
      "revId": "8a1a9d0010fea1f8463b4ada3005dfbb52e0d681",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a682502_93e2d89d",
        "filename": "ansible/roles/download_samplevnfs/defaults/main.yml",
        "patchSetId": 5
      },
      "lineNbr": 5,
      "author": {
        "id": 2311
      },
      "writtenOn": "2018-10-02T10:52:11Z",
      "side": 1,
      "message": "Ignore this comment, I was looking at PS5",
      "parentUuid": "5a682502_d3cc5038",
      "revId": "8a1a9d0010fea1f8463b4ada3005dfbb52e0d681",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a682502_a2bb3bc3",
        "filename": "ansible/roles/download_samplevnfs/defaults/main.yml",
        "patchSetId": 5
      },
      "lineNbr": 5,
      "author": {
        "id": 7145
      },
      "writtenOn": "2018-10-03T14:12:39Z",
      "side": 1,
      "message": "Rebased after Patrice changes as per commit ID for sample VNF. https://gerrit.opnfv.org/gerrit/#/c/62443/.",
      "parentUuid": "5a682502_93e2d89d",
      "revId": "8a1a9d0010fea1f8463b4ada3005dfbb52e0d681",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a682502_1fa08f42",
        "filename": "ansible/roles/install_yardstick/tasks/Debian.yml",
        "patchSetId": 5
      },
      "lineNbr": 15,
      "author": {
        "id": 7067
      },
      "writtenOn": "2018-09-27T12:52:39Z",
      "side": 1,
      "message": "When was that bug fixed?\nI don\u0027t know myself, but L20,L26 suggest it was fixed in 17.04.\nIf fixed in 16.10 or 17.10, then L20,L26 are wrong.",
      "revId": "8a1a9d0010fea1f8463b4ada3005dfbb52e0d681",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a682502_3fad8b32",
        "filename": "ansible/roles/install_yardstick/tasks/Debian.yml",
        "patchSetId": 5
      },
      "lineNbr": 15,
      "author": {
        "id": 7085
      },
      "writtenOn": "2018-09-27T13:14:16Z",
      "side": 1,
      "message": "The bug requires you to use shell instead of the built in ansible module. \"shell: easy_install -U pip\"",
      "parentUuid": "5a682502_1fa08f42",
      "revId": "8a1a9d0010fea1f8463b4ada3005dfbb52e0d681",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a682502_7fa70350",
        "filename": "ansible/roles/install_yardstick/tasks/Debian.yml",
        "patchSetId": 5
      },
      "lineNbr": 15,
      "author": {
        "id": 7085
      },
      "writtenOn": "2018-09-27T13:15:53Z",
      "side": 1,
      "message": "easy install comes from the install.sh script",
      "parentUuid": "5a682502_3fad8b32",
      "revId": "8a1a9d0010fea1f8463b4ada3005dfbb52e0d681",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a682502_bf687bf6",
        "filename": "ansible/roles/install_yardstick/tasks/Debian.yml",
        "patchSetId": 5
      },
      "lineNbr": 15,
      "author": {
        "id": 7085
      },
      "writtenOn": "2018-09-27T13:21:20Z",
      "side": 1,
      "message": "sorry for the spam.\nI think easy install was used as it was easier for cross platform and it installs a newer version than in the ubuntu repos. The bug is from the following:\nhttps://github.com/ansible/ansible/issues/37296\nIt is why we use shell",
      "parentUuid": "5a682502_7fa70350",
      "revId": "8a1a9d0010fea1f8463b4ada3005dfbb52e0d681",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a682502_c2047c17",
        "filename": "ansible/roles/install_yardstick/tasks/Debian.yml",
        "patchSetId": 5
      },
      "lineNbr": 15,
      "author": {
        "id": 7067
      },
      "writtenOn": "2018-09-27T18:04:43Z",
      "side": 1,
      "message": "OK, I think I start to get it! ;-)\n\nSo, there is (at least) one currently open issue, either in ansible\u0027s easy_install module, or in easy_install itself, or both:\n- https://github.com/ansible/ansible/issues/23534\n- https://github.com/ansible/ansible/issues/37296\n- https://github.com/ansible/ansible/pull/39073\n- https://github.com/pypa/setuptools/issues/1334\n\nIn order to workaround this issue, install_yardstick role was previously running \"easy_install -U pip\" directly, using ansible\u0027s shell module, whatever the distribution: https://gerrit.opnfv.org/gerrit/#/c/61985/1/ansible/roles/install_yardstick/tasks/main.yml@a35\nOK, fine.\n\nThen for some reason, PS1 decided to install pip using different methods, depending on Ubuntu version: https://gerrit.opnfv.org/gerrit/#/c/61985/1/ansible/roles/install_yardstick/tasks/main.yml@40\n\nThen PS5 added more methods, depending on OS family:\n- easy_install -U pip, for Ubuntu \u003c\u003d 16 and Suse\n- apt install python-pip, for Ubuntu \u003e\u003d 17\n- yum install python27-python-pip, for RedHat\n\nNow the question is whether these different methods are really needed. Wouldn\u0027t \"easy_install -U pip\" work on all OS families and versions? Again, the mentioned issue triggers when using ansible\u0027s easy_install module, and the workaround consists in running \"easy_install -U pip\" directly, using ansible\u0027s shell module...\n\nAnd the even more important question is whether pip really needs to be installed at this stage, by the install_yardstick role. Because according to ansible/install.yaml, this install_yardstick role is performed after the install_dependencies_jumphost role: https://gerrit.opnfv.org/gerrit/#/c/61985/6/ansible/install.yaml@36\n\nFor all Debian/Ubuntu versions, \"apt install python-pip\" has already been done by the install_dependencies_jumphost role: https://gerrit.opnfv.org/gerrit/#/c/61985/6/ansible/roles/install_dependencies_jumphost/tasks/Debian.yml@45\nSo it seems useless to install pip again here! Even in case we really need to easy_install a version of pip more recent than 8.1.1 provided by Ubuntu 16.04 (https://packages.ubuntu.com/xenial/python-pip), this should better be done by the install_dependencies_jumphost role.\n\nFor RedHat and Suse, pip should be installed from ansible/roles/install_dependencies_jumphost/tasks/RedHat.yml and ansible/roles/install_dependencies_jumphost/tasks/Suse.yml respectively, rather than from this install_yardstick role.",
      "parentUuid": "5a682502_bf687bf6",
      "revId": "8a1a9d0010fea1f8463b4ada3005dfbb52e0d681",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a682502_e22b78e9",
        "filename": "ansible/roles/install_yardstick/tasks/Debian.yml",
        "patchSetId": 5
      },
      "lineNbr": 15,
      "author": {
        "id": 7067
      },
      "writtenOn": "2018-09-28T10:33:19Z",
      "side": 1,
      "message": "As per our discussion, I now understand that:\n- easy_install does not provide pip with Ubuntu 18.04, so \"apt install python-pip\" is required,\n- but with Ubuntu 16.04, \"apt install python-pip\" does not install a recent enough version, so \"easy_install -U pip\" is required.\n\nThat\u0027s fine, but it should not be done here.\n\nTo summarize: do not install pip here in install_yardstick role.\n\nDo that in install_dependencies_jumphost role:\n- for Ubuntu 18.04, \"apt install python-pip\" is already done, so just add the appropriate when: condition\n- for Ubuntu 16.04, add \"shell: easy_install -U pip\" with appropriate when: condition\n- for RedHat, use \"yum install python27-python-pip\"\n- for Suse, use \"shell: easy_install -U pip\"\n\nThe above should be done in:\n- ansible/roles/install_dependencies_jumphost/tasks/Debian.yml\n- ansible/roles/install_dependencies_jumphost/tasks/RedHat.yml\n- ansible/roles/install_dependencies_jumphost/tasks/Suse.yml",
      "parentUuid": "5a682502_c2047c17",
      "revId": "8a1a9d0010fea1f8463b4ada3005dfbb52e0d681",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a682502_33d2e4d2",
        "filename": "ansible/roles/install_yardstick/tasks/Debian.yml",
        "patchSetId": 5
      },
      "lineNbr": 15,
      "author": {
        "id": 2311
      },
      "writtenOn": "2018-10-02T10:51:24Z",
      "side": 1,
      "message": "These details should be added here, so that the comment in this file shows all required references to know when  the bug is resolved.\n\nEither that, or a Jira ticket should be logged with these details and referenced here in the file.",
      "parentUuid": "5a682502_e22b78e9",
      "revId": "8a1a9d0010fea1f8463b4ada3005dfbb52e0d681",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a682502_22a0cb8f",
        "filename": "ansible/roles/install_yardstick/tasks/Debian.yml",
        "patchSetId": 5
      },
      "lineNbr": 15,
      "author": {
        "id": 7145
      },
      "writtenOn": "2018-10-03T14:12:39Z",
      "side": 1,
      "message": "Removed this as duplication of existing role.\nAdded bug as a reference to ansible/roles/install_dependencies_jumphost/tasks/Debian.yml",
      "parentUuid": "5a682502_33d2e4d2",
      "revId": "8a1a9d0010fea1f8463b4ada3005dfbb52e0d681",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a682502_ffa4b358",
        "filename": "ansible/roles/install_yardstick/tasks/Suse.yml",
        "patchSetId": 5
      },
      "lineNbr": 22,
      "author": {
        "id": 7067
      },
      "writtenOn": "2018-09-27T12:52:39Z",
      "side": 1,
      "message": "Looks useless",
      "range": {
        "startLine": 20,
        "startChar": 0,
        "endLine": 22,
        "endChar": 18
      },
      "revId": "8a1a9d0010fea1f8463b4ada3005dfbb52e0d681",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a682502_13d7e8c2",
        "filename": "ansible/roles/install_yardstick/tasks/Suse.yml",
        "patchSetId": 5
      },
      "lineNbr": 22,
      "author": {
        "id": 2311
      },
      "writtenOn": "2018-10-02T10:51:24Z",
      "side": 1,
      "message": "+1 Remove the commented commands",
      "parentUuid": "5a682502_ffa4b358",
      "range": {
        "startLine": 20,
        "startChar": 0,
        "endLine": 22,
        "endChar": 18
      },
      "revId": "8a1a9d0010fea1f8463b4ada3005dfbb52e0d681",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a682502_22c72b47",
        "filename": "ansible/roles/install_yardstick/tasks/Suse.yml",
        "patchSetId": 5
      },
      "lineNbr": 22,
      "author": {
        "id": 7145
      },
      "writtenOn": "2018-10-03T14:12:39Z",
      "side": 1,
      "message": "Moved to ansible/roles/install_dependencies_jumphost/tasks/Suse.yml\nDone.",
      "parentUuid": "5a682502_13d7e8c2",
      "range": {
        "startLine": 20,
        "startChar": 0,
        "endLine": 22,
        "endChar": 18
      },
      "revId": "8a1a9d0010fea1f8463b4ada3005dfbb52e0d681",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    }
  ]
}